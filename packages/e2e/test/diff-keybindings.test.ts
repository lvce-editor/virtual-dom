import { test, expect } from '../src/fixtures.ts'

test('diff - keybindings', async ({ page }) => {
  await page.goto('/diff/keybindings.html')

  await page.waitForFunction(() => {
    // @ts-ignore
    return globalThis.__virtualDomDiffTestComplete === true
  })

  const container = page.locator('#diff-container')
  const innerHTML = await container.innerHTML()
  expect(innerHTML).toBe(
    '<div class="Viewlet KeyBindings" role="document"><div class="KeyBindingsHeader" role="none"><div aria-label="KeyBindings" class="KeyBindingsSearchWrapper" role="search"><input aria-description="Results will update as you type" autocomplete="off" class="KeyBindingsSearchInputBox" type="search" name="keybindings-filter" placeholder="Type to search in keybindings"><div class="KeyBindingsSearchActions"><div class="SearchFieldButtons KeyBindingsSearchButtons"><button aria-checked="false" class="SearchFieldButton" name="RecordKeys" role="checkbox" title="Record keys"><div class="MaskIcon MaskIconRecordKeys"></div></button><button aria-checked="false" class="SearchFieldButton" name="SortByPrecdence" role="checkbox" title="Sort By Precedence"><div class="MaskIcon MaskIconSortPrecedence"></div></button><button aria-checked="false" class="SearchFieldButton" name="ClearSearchInput" role="checkbox" title="Clear Search Input"><div class="MaskIcon MaskIconClearAll"></div></button></div></div></div></div><div class="TableWrapper FocusOutline" role="none"><table aria-label="KeyBindings" aria-rowcount="58" class="Table" tabindex="0"><colgroup class="TableColGroup"><col class="TableCol TableColZero"><col class="TableCol TableColOne"><col class="TableCol TableColTwo"><col class="TableCol TableColThree"></colgroup><thead class="TableHead"><tr aria-rowindex="1" class="TableRow"><th class="TableCell"></th><th class="TableCell">Command</th><th class="TableCell">Key</th><th class="TableCell">When</th></tr></thead><tbody class="TableBody"><tr aria-rowindex="2" class="TableRow TableRowEven"><td class="TableCell"><button class="IconButton KeyBindingsEditButton" tabindex="-1" title="Edit"><div class="MaskIcon MaskIconEdit" role="none"></div></button></td><td class="TableCell"><span class="SearchHighlight">A</span>bout.focusNext</td><td class="TableCell"><kbd class="Key">Tab</kbd></td><td class="TableCell">FocusAbout</td></tr><tr aria-rowindex="3" class="TableRow TableRowOdd"><td class="TableCell"><button class="IconButton KeyBindingsEditButton" tabindex="-1" title="Edit"><div class="MaskIcon MaskIconEdit" role="none"></div></button></td><td class="TableCell"><span class="SearchHighlight">A</span>bout.focusPrevious</td><td class="TableCell"><kbd class="Key">Shift</kbd>+<kbd class="Key">Tab</kbd></td><td class="TableCell">FocusAbout</td></tr><tr aria-rowindex="4" class="TableRow TableRowEven"><td class="TableCell"><button class="IconButton KeyBindingsEditButton" tabindex="-1" title="Edit"><div class="MaskIcon MaskIconEdit" role="none"></div></button></td><td class="TableCell"><span class="SearchHighlight">A</span>bout.handleClickClose</td><td class="TableCell"><kbd class="Key">Escape</kbd></td><td class="TableCell">FocusAbout</td></tr><tr aria-rowindex="5" class="TableRow TableRowOdd"><td class="TableCell"><button class="IconButton KeyBindingsEditButton" tabindex="-1" title="Edit"><div class="MaskIcon MaskIconEdit" role="none"></div></button></td><td class="TableCell"><span class="SearchHighlight">A</span>ctivityBar.focusFirst</td><td class="TableCell"><kbd class="Key">Home</kbd></td><td class="TableCell">FocusActivityBar</td></tr><tr aria-rowindex="6" class="TableRow TableRowEven"><td class="TableCell"><button class="IconButton KeyBindingsEditButton" tabindex="-1" title="Edit"><div class="MaskIcon MaskIconEdit" role="none"></div></button></td><td class="TableCell"><span class="SearchHighlight">A</span>ctivityBar.focusFirst</td><td class="TableCell"><kbd class="Key">PageUp</kbd></td><td class="TableCell">FocusActivityBar</td></tr><tr aria-rowindex="7" class="TableRow TableRowOdd"><td class="TableCell"><button class="IconButton KeyBindingsEditButton" tabindex="-1" title="Edit"><div class="MaskIcon MaskIconEdit" role="none"></div></button></td><td class="TableCell"><span class="SearchHighlight">A</span>ctivityBar.focusLast</td><td class="TableCell"><kbd class="Key">PageDown</kbd></td><td class="TableCell">FocusActivityBar</td></tr><tr aria-rowindex="8" class="TableRow TableRowEven"><td class="TableCell"><button class="IconButton KeyBindingsEditButton" tabindex="-1" title="Edit"><div class="MaskIcon MaskIconEdit" role="none"></div></button></td><td class="TableCell"><span class="SearchHighlight">A</span>ctivityBar.focusLast</td><td class="TableCell"><kbd class="Key">End</kbd></td><td class="TableCell">FocusActivityBar</td></tr><tr aria-rowindex="9" class="TableRow TableRowOdd"><td class="TableCell"><button class="IconButton KeyBindingsEditButton" tabindex="-1" title="Edit"><div class="MaskIcon MaskIconEdit" role="none"></div></button></td><td class="TableCell"><span class="SearchHighlight">A</span>ctivityBar.focusNext</td><td class="TableCell"><kbd class="Key">DownArrow</kbd></td><td class="TableCell">FocusActivityBar</td></tr><tr aria-rowindex="10" class="TableRow TableRowEven"><td class="TableCell"><button class="IconButton KeyBindingsEditButton" tabindex="-1" title="Edit"><div class="MaskIcon MaskIconEdit" role="none"></div></button></td><td class="TableCell"><span class="SearchHighlight">A</span>ctivityBar.focusPrevious</td><td class="TableCell"><kbd class="Key">UpArrow</kbd></td><td class="TableCell">FocusActivityBar</td></tr><tr aria-rowindex="11" class="TableRow TableRowOdd"><td class="TableCell"><button class="IconButton KeyBindingsEditButton" tabindex="-1" title="Edit"><div class="MaskIcon MaskIconEdit" role="none"></div></button></td><td class="TableCell"><span class="SearchHighlight">A</span>ctivityBar.selectCurrent</td><td class="TableCell"><kbd class="Key">Space</kbd></td><td class="TableCell">FocusActivityBar</td></tr><tr aria-rowindex="12" class="TableRow TableRowEven"><td class="TableCell"><button class="IconButton KeyBindingsEditButton" tabindex="-1" title="Edit"><div class="MaskIcon MaskIconEdit" role="none"></div></button></td><td class="TableCell"><span class="SearchHighlight">A</span>ctivityBar.selectCurrent</td><td class="TableCell"><kbd class="Key">Enter</kbd></td><td class="TableCell">FocusActivityBar</td></tr><tr aria-rowindex="13" class="TableRow TableRowOdd"><td class="TableCell"><button class="IconButton KeyBindingsEditButton" tabindex="-1" title="Edit"><div class="MaskIcon MaskIconEdit" role="none"></div></button></td><td class="TableCell">Editor.selectDown</td><td class="TableCell"><kbd class="Key">Shift</kbd>+<kbd class="Key">DownArrow</kbd></td><td class="TableCell">n/a</td></tr><tr aria-rowindex="14" class="TableRow TableRowEven"><td class="TableCell"><button class="IconButton KeyBindingsEditButton" tabindex="-1" title="Edit"><div class="MaskIcon MaskIconEdit" role="none"></div></button></td><td class="TableCell">Editor.selectUp</td><td class="TableCell"><kbd class="Key">Shift</kbd>+<kbd class="Key">UpArrow</kbd></td><td class="TableCell">n/a</td></tr><tr aria-rowindex="15" class="TableRow TableRowOdd"><td class="TableCell"><button class="IconButton KeyBindingsEditButton" tabindex="-1" title="Edit"><div class="MaskIcon MaskIconEdit" role="none"></div></button></td><td class="TableCell">EditorRename.<span class="SearchHighlight">a</span>bort</td><td class="TableCell"><kbd class="Key">Escape</kbd></td><td class="TableCell">FocusEditorRename</td></tr><tr aria-rowindex="16" class="TableRow TableRowEven"><td class="TableCell"><button class="IconButton KeyBindingsEditButton" tabindex="-1" title="Edit"><div class="MaskIcon MaskIconEdit" role="none"></div></button></td><td class="TableCell">Explorer.<span class="SearchHighlight">a</span>cceptEdit</td><td class="TableCell"><kbd class="Key">Enter</kbd></td><td class="TableCell">FocusExplorerEditBox</td></tr><tr aria-rowindex="17" class="TableRow TableRowOdd"><td class="TableCell"><button class="IconButton KeyBindingsEditButton" tabindex="-1" title="Edit"><div class="MaskIcon MaskIconEdit" role="none"></div></button></td><td class="TableCell">Explorer.collapse<span class="SearchHighlight">A</span>ll</td><td class="TableCell"><kbd class="Key">Ctrl</kbd>+<kbd class="Key">LeftArrow</kbd></td><td class="TableCell">FocusExplorer</td></tr><tr aria-rowindex="18" class="TableRow TableRowEven"><td class="TableCell"><button class="IconButton KeyBindingsEditButton" tabindex="-1" title="Edit"><div class="MaskIcon MaskIconEdit" role="none"></div></button></td><td class="TableCell">Explorer.expand<span class="SearchHighlight">A</span>ll</td><td class="TableCell"><kbd class="Key">Ctrl</kbd>+<kbd class="Key">*</kbd></td><td class="TableCell">FocusExplorer</td></tr></tbody></table><button class="Resizer ResizerOne" name="ResizerOne" role="none"><div class="ResizerInner"></div></button><button class="Resizer ResizerTwo" name="ResizerTwo" role="none"><div class="ResizerInner"></div></button><div class="ScrollBar"><div class="ScrollBarThumb"></div></div></div></div>',
  )
})
